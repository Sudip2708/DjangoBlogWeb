{% load static %}

<!-- Display of Comments -->
<div class="mb-5">

  <!-- Description with comments count -->
  <header><h3 class="h6 mb-4">article Comments
    <span class="fw-light text-gray-600 small ms-2">
      ({{ article.comments.count }})
    </span>
  </h3></header>

  <!-- Comments -->
  {% for comment in article.get_comments %}
  <div class="d-flex align-items-start">

    <!-- Users profile picture -->
    {% if comment.user.author %}
      <img class="img-fluid rounded-circle flex-shrink-0"
           src="{{ comment.user.author.profile_picture.url }}?{% now 'U' %}"
           alt="profile_picture"
           width="50"/>
    {% else %}
      <img class="img-fluid rounded-circle flex-shrink-0"
           src="{% static 'img/user.svg' %}"
           alt="profile picture"
           width="50"/>
    {% endif %}

    <!-- Users info and comment -->
    <div class="pb-4 ms-3 border-bottom mb-4">

      <!-- Users name -->
      <strong>{{ comment.user.username }}</strong>

      <!-- Comment date -->
      <p class="small text-gray-500">
        {{ comment.created|timesince }} ago
      </p>

      <!-- Comment -->
      <p class="mb-0 text-sm">
        {{ comment.content }}
      </p>

    </div>

  </div>
  {% endfor %}

</div>