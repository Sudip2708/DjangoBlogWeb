1) Přetažení html do Django
###
• Založit GitHub Repository
• Natáhnout do PyCharm
• Jít na: https://bootstrapious.com/free-templates
• Vybrat podklad a stáhnout do kompu
(v mém případě: https://bootstrapious.com/p/bootstrap-blog)
• Překopírovat složky ze zipu do kořenového adresáře
###
Pokud mám špatné venv:
Deaktivace: $ deactivate
Instalace virtualenv: $ pip install virtualenv
Vytvoření venv: $ virtualenv venv
Aktivace venv: $ venv\Scripts\activate
###
• Aktualizace pip: $ python -m pip install --upgrade pip
• Instalace Django: $ pip install django
• Založit projekt: $ django-admin startproject blog
###
• Uvnitř kořenové složky 'blog' vytvořit složku 'static'
• Přesunout dovnitř: složky: css, img, js, vendor, a případně další statiku (fonts, icons)
• Uvnitř kořenové složky 'blog' vytvořit složku 'templates'
• Přesunout dovnitř html a textové soubory (zbylé z webové šablony)
###
• Ve složce projektu 'blog' otevřít settings.py
• Nastavit cestu k složce templates: TEMPLATES... 'DIRS': [BASE_DIR / 'templates']
• Dopsat pod statiku odkazy na: MEDIA_URL, STATICFILES_DIRS, STATIC_ROOT, MEDIA_ROOT
• Ve složce projektu 'blog' otevřít urls.py
• Importovat settings a static: from django.conf import settings, from django.conf.urls.static import static
• Zapsat kód pro zpřístupnění media a statiky z webu (když jsme v debug módu): if settings.DEBUG:...
• V terminálu se přesunout do aplikace: $ cd blog
• Vytvořit soubor pro migraci: $ python manage.py makemigrations
• Migrovat projekt: $ python manage.py migrate
###
Úprava html souborů:
• vytvořit base.html, pro základní strukturu
• rozebrat index.html na základní společné prvky: head.html, header.html, footer.html, scripts.html
• Smazat hlavičku a skripty i na dalších stránkách (blog.html, post.html)
• Dopast do stránek {% block content %} a {% endblock content %}
###
• Ve složce projektu 'blog' vytvořit soubor views.py a definovat pohled index a blog
• Ve složce projektu 'blog' otevřít urls.py a importovat vytvořené pohledy: from.views import index, blog
• Zapsat pohledy do urlpatterns
• Zpustit vývojové prostředí a podívat se zda se načetl nestylizovaný obsah webu: $ python manage.py runserver
###
• Otevřít soubor head.html, scripts.html, index.html, blog.html, post.html a na úvod dopsat: {% load static %}
• V souborech head.html a scripts.html, ke každému lokálnímu odkazu herf do uvozovek dopsat {% static '' %} a do apostrofů dát původní obsah
• To samé udělat pro všechny obrázky (src="img) v souborech index.html, blog.html, post.html.
• V settings.py zkontrolovat a případně přepsat následujíc: STATICFILES_DIRS = [BASE_DIR / 'static'], STATIC_ROOT = BASE_DIR.parent / 'static'
• Zpustit příkaz: $ python manage.py collectstatic
• Zpustit vývojový server
• Na stránce přepnout do konzole a zkontrolovat zda tu nejsou nějaké nenačtené soubory
###
2) Zprovoznění index.html
###
• Otevřít header.html a opravit odkazy v navigaci stránky (např. href="blog.html" na href="/blog")
• Vytvořit nový modul pro příspěvky post: $ python manage.py startapp posts
• Podívat se na stránku a zjistit, co vše budeme potřebovat za pole pro databázy
• Otevřít blog/settings.py a zapsat do INSTALLED_APPS 'posts',
###
• Nainstalovat Pillow pro práci s obrázky: $ pip install pillow
• Nainstalovat knihovna TinyMCE pro práci s obsahem webu: $ pip install django-tinymce
• Do blog/settings.py a zapsat do INSTALLED_APPS 'tinymce',
• Do posts/models.py importovat HTMLField, get_user_model a zapsat databázové modely:
• Post(models.Model) pro příspěvky - pole: title, overview, timestamp, comment_count, author (ForeignKey)
• Author(models.Model) pro autora příspěvků - pole: user, profile_picture
• Category(models.Model) pro kategorie příspěvků - pole: title
Vytvoření souboru s instalovanými balíčky: $ pip freeze > requirements.txt
• Vytvořit soubor pro migraci: $ python manage.py makemigrations
• Migrovat projekt: $ python manage.py migrate
###
• Z blog/views.py překopírovat obast do posts/views.py a blog/views.py smazat
• V blog/urls.py přepsat from .views na from posts.views
+ Dopsání popisků
###
• V posts/models dopsat do Post(models.Model) pro příspěvky - pole: featured (pro učení příspěvku pro hlavní stránku)
• Natsavit defaoultní hodnotu na False: featured = models.BooleanField(default=False)
• Vytvořit soubor pro migraci: $ python manage.py makemigrations
• Migrovat projekt: $ python manage.py migrate
• Vytvoření superuser: $ python manage.py createsuperuser
• V posts/admin.py importovat a registrovat zobrazení vytvořených tabulek: admin.site.register()
• Přihlásit se na http://127.0.0.1:8000/admin/ a zapsat pár příspěvků
###
• Do posts/views.py importovat třídu Post: from .models import Post
• Vyfiltrovat příspěvky s které mají pole featured nastaveno na True: article_featured = Post.objects.filter(featured=True)
• Vyfiltrovat nejnovější příspěvky: article_latest = Post.objects.order_by('-timestamp')[0:3]
• Vytvořit slovník context a přidat výsledky obou filtrování
• Zapsat vyfiltrovaná data do HTML odpovědi: return render(request, 'index.html', context)
• Otevřít templates/index.html, najít část se zobrazenými články a namísto opakování HTML kódu napsata jinja2 příkazy pro zobrazení dat.
###
• Vytvoření modulu pro zadání emailu pro odebírání novinek:
• Vtvořit novou aplikaci pro uchovávání emailů: $ python manage.py startapp marketing
• Do blog/settings.py a zapsat do INSTALLED_APPS 'marketing',
• Otevřít marketing/models.py a vytvořit tabulku Signup(models.Model) se sloupci: email, timestamp
• Otevřít marketing/admin.py a registrovat zobrazení vytvořených tabulek v admin sekci
• Vytvořit soubor pro migraci: $ python manage.py makemigrations
• Migrovat projekt: $ python manage.py migrate
• Otevřít posts/views a importovat Signup: from marketing.models import Signup
• A do index dopsat podmínku pro požadavek typu POST (if request.method == "POST") a příslušný kód pro uložení emailu
• Otevřít templates/index.html, najít část z formulářem pro přihlášení se k odběru
• Příkaz <form action="#">, přepsat na <form action="." method="POST">
• A pod něj vložit token: {% csrf_token %}
###
• Vytvoření kódu pro stránku blog se všemi příspěvky
• Otevřít post/views.py a k definici def blog(request) připsat:
• Kód pro vyfiltrování všech příspěvků: articles = Post.objects.filter()
• A přidat ho do slovníku context a ten vložit do rendru stránky
• Otevřít templates/blog.html a sekci se články přepsat do jednoho v jinja2 kódu
###
• Paginace:
• Otevřít post/views.py a zapsat import: from django.core.paginator import Paginator, EmptyPage, PageNotAnInteger
• Zapsat kód pro stránkování
• Otevřít templates/blog.html a zapsat jinja2 kód pro stránkování
###
Boční panel - nejnovější příspěvky
• V templates vytvořit nový soubor sidebar.html
• Otevřít templates/blog.html a překopírovat do templates/sidebar.html část kódu pro boční panel <aside>
• V templates/blog.html dopsat jinja2 odkaz na natežení obsahu z templates/sidebar.html {% include 'sidebar.html' %}
• Otevřít post/views.py a k definici def blog(request) připsat:
• Kód pro vyfiltrování kategorií: get_category_count()
• Kód pro vyfiltrování nejnovějších příspěvků: Post.objects.order_by('-timestamp')[:3]
• Přidat obě položky do slovníku context, vloženého do rendru stránky
• Otevřít blog/urls.py a do urlpatterns dopsat k položkám blog a post hodnotu name: name='post-list', name='post-detail'
• Otevřít posts/views.py a importovat reverse: from django.urls import reverse
• Dopsat funkci pro získání URL adresy: get_absolute_url(self) == return reverse('post-detail', kwargs={'pk': self.pk})
###
Boční panel - kategorie
• Otevřít posts/views.py a vytvoříme funkci get_category_count()
• Vytvoříme dotaz, pro vytažení všech kategorií a jejich zpočítání: queryset = Post.objects.values('categories__title').annotate(Count('categories__title'))
• Do def blog(request) dopíšeme category_count = get_category_count() a přidáme do context
• V templates/sidebar.html přepíšeme kód (za pomoci jinja2) aby použil dodané hodnoty
###
Boční panel - hledání (pouze v nadpisech a popisu článků)
• Vytvořit v templates soubor search_result.html + zapsat kód
• Otevřít posts/views.py a vytvoříme pohled pro výsledky hledání:  def search(request)
• Zapsat kód pro vyfiltrování obsahu dle zadaného textu
• Otevřít blog/urls.py importovat search, a do urlpatterns připsat path('search/', search, name='search'),
• Otevřít templates/sidebar.html a přepsat kód, a do form přidat action="{% url 'search' %}"
###
Pole s tagy budu dělat až nakonec (nebyli součástí tutotiálu)
###
Stránka s příspěvkem
• Otevřít templates/post.html odstranit část s bočním panelem a připsat: a přepsat kód
{% include 'sidebar.html' with most_recent_articles=most_recent_articles category_count=category_count %}
• Odebereme i část kódu pro vykreslení těla příspěvku (tato část je zde jen na ukázku, vzhled článku bude přes TinyMCE)
(
• Instalace TinyMCE: $ pip install django-tinymce
• Přidat tinymce do INSTALLED_APPS v settings.py: 'tinymce'
• A přepsat kód pro nastavení dle: https://django-tinymce.readthedocs.io/en/latest/installation.html
• Do blog/urls.py inportovat include a do urlpatterns: path('tinymce/', include('tinymce.urls')),
• Do posts/models.py importovat HTMLField: from tinymce.models import HTMLField
• A pole contens (pro obsah článku) nastavit na HTMLField()
• Ve složce posts vytvořit nový soubor forms.py a zapsat kód pro formulář
)
Otevřeme posts/views importoujeme get_object_or_404
A dopíšeme kód do post(request, id) pro vyhledání příspěvku: post = get_object_or_404(Post, id=id) a zapíšeme do rendru stránky.
Otevřeme templates/post.html a přepíšeme část s článkem za pomoci jinja2 kódu
###
Předešlý a další článek:
• Otevřít posts/model.py a dopsat pole i s definicí pro previous_post a next_post
• Vytvořit soubor pro migraci: $ python manage.py makemigrations
• Migrovat projekt: $ python manage.py migrate
• Otevřít web v admin sekci a přidat k článkům odkaz na předchozí a minulý
• Otevřít templates/post.html a přepsat kód pro předcházející a následující článek.
###
Komentáře:
• Otevřít posts/models.py a zapsat třídu pro tabulku pro příspěvky Comment(models.Model) s poly: user(fk), post(fk), timestamp, content
• Otevřít posts/admin.py a importovat třídu Comment a zaregistrovat: admin.site.register(Comment)
• Otevřít posts/forms.py a importovat třídu Comment a napsat model pro formulář
• Otevřít posts/views.py a importovat třídu CommentForm a zapsat kód
• Otevřít templates/post.html a přepsat kód pro komentáře
• Vytvořit soubor pro migraci: $ python manage.py makemigrations
• Migrovat projekt: $ python manage.py migrate
###
Zprovoznění vyhledávání
• Otevřít templates/header.html a z templates/sidebar.html překopírovat části kódu pro vyhledávání
###
Přidání a úprava příspěvku
• Otevřít templates/post.html a připsat odkazy pro zobrazení tlačítka pro úpravu a smazání článku
• Otevřít posts/models.py a do Post(models.Model) přidat funkci pro vytvoření, úpravu a smazání příspěvku
• Otevřít posts/views.py importovat PostForm a Author, a zapsat kód pro tyto pohledy
• Otevřít blog/urls.py importovat tyto pohledy a dopsat do urlpatterns cestu k nim
• Instalovat crispy-forms: $ pip install django-crispy-forms (https://django-crispy-forms.readthedocs.io/en/latest/install.html)
• Instalovat podporu pro Bootstrap 5: $ pip install crispy-bootstrap5 (https://github.com/django-crispy-forms/crispy-bootstrap5)
• Otevřít blog/settings.py a do INSTALLED_APPS zapsat: 'crispy_forms' a 'crispy_bootstrap5'
• A pod INSTALLED_APPS zapsat: CRISPY_ALLOWED_TEMPLATE_PACKS = "bootstrap5", CRISPY_TEMPLATE_PACK = "bootstrap5"
• V složce templates vytvožit soubory: post_create.html a zapsat kód
• Otevřít templates/post.html a připsat odkazy pro zobrazení odkazu pro úpravu článku
> dodělat mazání příspěvku < (s potvrzením)
###
Nastavení počítání zobrazení a počítání komentů
• Otevřít posts/models.py a zapsat třídy PostView(models.Model)
• A do Post(models.Model)) připsat @property: def view_count(self) a comment_count(self)
• Otevřít posts/views.py importovat PostView
• A do post() připsat PostView.objects.get_or_create(user=request.user, post=post)
• Vytvořit soubor pro migraci: $ python manage.py makemigrations
• Migrovat projekt: $ python manage.py migrate
• Otevřít posts/admin.py a importovat třídu PostView a zaregistrovat ji
Otevřít index.html, blog.html, post.html, sidebar.html a dopsat {{ post.comment_count }} a {{ post.view_count }}
> Změna 'article' na 'post' pro zjednodušení kódu <
###
Změna virtuálního prostředí
• (Nějak se mi na projek v počátku navázalo virtuální prostředí z jiného projektu a ny ní našel čas to napravit)
• Deaktivovat virtuální prostředí: $ deactivate
• Aktivace venv které jsem si vytvořil a v kterém dělám projekt: $ venv\Scripts\activate
• Natažení requirements.txt: $ pip freeze requirements.txt
• Vypnout / zapnout PyCharm
• Jít v PyCharm do File > Settings > Projekt > Projekt interpreter a vytvořit (přidat) nový interpreter
• Doinstalovat requirements.txt: $ pip install -r requirements.txt
###
Instalace a základní nastavení Django Allauth (bez možnosti přihlášení prostřednictvím sociálních sítí)
• Nainstalovat aplikaci: $ pip install django-allauth
• Zápis instalace do requirements.txt: $ pip freeze requirements.txt
• Otevřít blog/settings.py a do INSTALLED_APPS přidat: 'allauth', 'allauth.account'
• Zkontrolovat jestli v TEMPLATES je uvedeno: 'django.template.context_processors.request'
• Přidat nastavení AUTHENTICATION_BACKENDS
• Do MIDDLEWARE přidat řádek: "allauth.account.middleware.AccountMiddleware",
• Otevřít blog/urls.py a do urlpatterns připsat: path('accounts/', include('allauth.urls')),
• Migrovat projekt: $ python manage.py migrate
###
Toto jsou nové urls, které jsme tím získali:
accounts/ signup/ [name='account_signup']
accounts/ login/ [name='account_login']
accounts/ logout/ [name='account_logout']
accounts/ reauthenticate/ [name='account_reauthenticate']
accounts/ password/change/ [name='account_change_password']
accounts/ password/set/ [name='account_set_password']
accounts/ inactive/ [name='account_inactive']
accounts/ email/ [name='account_email']
accounts/ confirm-email/ [name='account_email_verification_sent']
accounts/ ^confirm-email/(?P<key>[-:\w]+)/$ [name='account_confirm_email']
accounts/ password/reset/ [name='account_reset_password']
accounts/ password/reset/done/ [name='account_reset_password_done']
accounts/ ^password/reset/key/(?P<uidb36>[0-9A-Za-z]+)-(?P<key>.+)/$ [name='account_reset_password_from_key']
accounts/ password/reset/key/done/ [name='account_reset_password_from_key_done']
###
Restrukturizace projektu
1) Změna názvů souborů py
2) Změna názvů souborů html
3) Změna modulu posts na articles + oprava v kódu
4) Smazání databáze
5) Smazání všech migrací
6) Vytvořit nové migrace
###
Přidání automaticky generovaného obsahu pro pole slug:
• Instalace django-autoslug: $ pip install django-autoslug
• Přidání do INSTALLED_APPS: 'autoslug'
• Import AutoSlugField v modelu: from autoslug import AutoSlugField
• Použití AutoSlugField v modelu: slug = AutoSlugField(populate_from='title', unique=True)
• Vytvořit soubor pro migraci: $ python manage.py makemigrations
• Migrovat projekt: $ python manage.py migrate
###
• Přidání kódu do articles/admin.py pro zobrazení polí v tabulce
Vytvoření kanonické adresy:
• Změnit v articles/urls.py v path <int:id> na <slug:slug>
• Změnit výskyt všech pk na slug
###
Vytvoření kanonické adresy:
• Změnit v articles/urls.py v path <int:id> na <slug:slug>
• Změnit výskyt všech pk na slug
Přidání tagování:
• Instalace django-taggit: $ pip install django-taggit
• Otevřít main/settings.py a do INSTALLED_APPS přidat 'taggit'
• Otevřít articles/models/article.py a importovat taggit: from taggit.managers import TaggableManager
• A do Article(models.Model) přidat nové pole: tags = TaggableManager()
• A do Article(models.Model) přidat pro získání tagů k příspěvku: @property, def get_tags(self): return self.tags.all()
• Otevřít templates/article-tags a zapsat kód pro zobrazení tagů
• $ python manage.py makemigrations
• $ python manage.py migrate
Zobrazení tagů v postranním panelu:
• Otevřít articles/views/article-list.py a articles/views/article-detail.py a do oubou importovat tagit: from taggit.models import Tag
• A do kontextu připsat: context['tags'] = Tag.objects.all()
• Otevřít templates/sidebar_tags a zapsat kód pro zobrazení všech tagů
###
Přidání zobrazení výsledků vyhledávání do stránky se všemi články.
Vyčištění a unifikace kódu + Přidání popisů
###
Přepis pole pro počítání počtu komentářů na @property v Article(models.Model)
• Smazat řádek s polem comment_count = models.PositiveIntegerField(default=0)
• Přidat @property s definicí funkce: return self.comments.count()
• $ python manage.py makemigrations
• $ python manage.py migrate
• V modelu pro komentáře odstranit připočítávání komentářů def save(self, *args, **kwargs)
• Ke šablonám k zobrazení připsat podmínku: {% if article.comment_count %}
###
Přihlášení prostřednictvím Google
• Do main/urls.py přidat cestu: path('accounts/', include('allauth.urls')), a path('accounts/', include('allauth.socialaccount.urls')),,
• V templates vytvořit adresář allauth a překopírovat do něj soubory z adresáře templates AllAuth pro pozdější úpravu
• Nastavit přihlášení přes google: https://medium.com/powered-by-django/add-social-authentication-django-allauth-google-oauth-example-d8d69a603356
###
Script pro atumatické odkliknutí potvrzení přihlášení přes google
• Ze složky templates/socialaccount ve virtuálním prostředí Allauth překopírovat souborlogin.html do stejné adresářové struktury v templates
• Přepsat kód plus přidat script.
• Aby nedocházelo ke změně okna, přidat tuto stránku ke stránce login.html v mém projektu: {% extends 'account/login.html' %}
• Překopírovat kód odebrat co není potřeba , přidat skryté tlačítko a script, který ho zmáčkne.
###
Vytvoření stránku pro zobrazení a úpravů informací o uživatelovi
• V users vytvožit složku pro forms, models, views a smazat soubory stejného jména
• V users/models vytvořit user_profile_model.py a zapsat kód
• V users/models vytvořit signals.py a zapsat kód pro připojení k User
• $ pip install Pillow
• $ python manage.py makemigrations
• $ python manage.py migrate
• V users/apps.py dopsat kód upozorňující na signals def ready(self): import users.models.signals
• V users/__init__.py dopsat řádek upozorňující na kód v apps.py default_app_config = 'users.apps.UsersConfig'
• V users/forms vytvořit user_update_form.py a zapsat kód pro získání formulářeových dat pro User
• V users/forms vytvořit profile_update_form.py a zapsat kód pro získání formulářeových dat pro UserProfile
• V users/views vytvořit profile_update_view.py a zapsat kód pro pohled pro stránku s údaji o uživateli
• V templates vytvořit soubor profile_update.html a zapsat kód pro stránku s údaji o uživateli
• V templates vytvořit soubor user_sidebar.html a zapsat kód pro boční panel por stránku s údaji o uživateli a pžipojit ho k ní
• V templates/02_base_header.html připsat stránku do navigace
###
Přebudování celého projektu tak, abych pro uživatele mohl použít třídu CustomUser(AbstractUser) namísto modelu pro profil
Vytvoření CustomUser(AbstractUser):
$ pip install Django
$ django-admin startproject main
$ cd main
$ python manage.py startapp users
• main/settings.py > INSTALLED_APPS > + "users",
• users/ > + managers.py
• users/managers.py > zapsat kód pro vlastního správce (podtřídou BaseUserManager), který místo uživatelského jména používá jako jedinečný identifikátor e-mail
• users/models.py > zapsat kód pro CustomUser(AbstractUser) + přidat metodu pro automatické vytváření username
• users/ > + signals.py > zapsat kód pro automatické přidělení defaultního profilového obrázku
• main/settings.py > přidat kód AUTH_USER_MODEL = "users.CustomUser" , aby Django vědělo, že má použít novou vlastní třídu uživatelů
$ pip install Pillow
$ python manage.py makemigrations
$ python manage.py migrate
$ python manage.py createsuperuser
• users/admin.py > odregistrovat Groups: admin.site.unregister(Group) /pokud nechci využívat nastavení práv jednotlivým skupinám/
• users/admin.py > zaregistrovat CustomUser: @admin.register(CustomUser)
$ python manage.py runserver
Napojení stávajícího projektu:
$ python manage.py startapp articles
• articles/ > vytvořit složky: forms, models, views a překopírovat do nich obsah
• articles/ > smazat soubory models.py a views.py
• root/ > překopírovat složky media, static, templates
• root/ > překopírovat soubor requirements.txt
• main/settings.py > dopsat chybějící části kódu
• main/urls.py > dopsat chybějící části kódu
$ pip install -r requirements.txt
$ python manage.py makemigrations
$ python manage.py migrate
$ python manage.py collectstatic
$ python manage.py runserver
###
Nahrazení signálů metodou save:
• articles/models/article_author.py > změna metody create_or_update_author na metodu save
• users/models.py > změna metody create_username_from_email na metodu save
$ python manage.py makemigrations
$ python manage.py migrate
$ python manage.py runserver
Oprava aby nový uživatel mohl psát článek - stát se uživatelem:
• articles/views/utils.py > změnit kód pro get_author tak aby při nenalezení autora vytvořil nového
Zobrazení možnosti změnit jméno autora a jeho profilovou fotku ve templates pro profile_update.html
• users/models.py > vytvoření @property pro získání hodnoty zda je uživatel také autor
• users/forms.py > vytvoření class AuthorProfileForm(forms.ModelForm) pro data autora
• users/views.py > přepsat kód tak aby přeposílal i data autora
• templates/profile_update.html > přepis kódu
• templates/user_sidebar.html > Zapsat kód pro boční panel v kterém se budou zobrazovat informace o autorovi
###
Automatická změna formátu, velikosti a jména nahrané profilové fotografie
$ pip install django-model-utils
• users/signals.py > zapsat kód pre_save pro hlídání změny profilového obrázku za využití tracker = FieldTracker(instance)
• users/models.py > do metody save() dopsat kód pro vytvoření profilového obrázku v případě založení účtu.
###
Přenesení logiky ze signálů do views
• users/utils/ > vytvořit create_username.py > přepsat kód z users/models.py pro vytvoření uživatelského jména
• users/utils/ > vytvořit create_profile_picture.py > přepsat kód z users/models.py pro vytvoření profilového obrázku
• users/models.py > Odebrat kód pro vytvořené utils a importovat kódy utils
• users/models.py > Importovat a zapsat tracker na profilový obrázek
• articles/models/article_author.py > Importovat a zapsat tracker na profilový obrázek
• articles/models/article_author.py > Připsat třídní metodu na zjištění autora pro uživatele user_is_author()
• users/utils/ > vytvořit get_author_form.py > přepsat kód z users/views.py pro získání formulářových dat autora
• users/utils/ > vytvořit prepare_profile_image.py > přepsat kód z users/views.py pro úpravu profilového obrázku
• users/views.py > Odebrat kód pro vytvořené utils a importovat kódy utils
• users/views.py > Přepsat kód aby kontroloval změnu profilových obrázků přes tracker
• users/signals.py > Smazání souboru
• users/__init__.py > Vymazat směrování na signál
• users/apps.py > Vymazat směrování na signál
###
Přepracování views + úprava nahraného profilového obrázku
• articles/models/article_author.py > Dočasně dopsány property pro definování cesty a názvu obrázku
• users/models.py > Dočasně dopsány property pro definování cesty a názvu obrázku
• users/ > vytvořit složku views > vložit prázdný __imit__.py
• users/views/ > vytvořit profile_update_user.py > přepsat z users/views.py kód pro uživatele
• users/views/ > vytvořit profile_update_autor.py > přepsat z users/views.py kód pro autora
• users/views.py > Smazat
• templates/ > vytvořit profile_update_user.html > přepsat z profile_update.html část pro uživatele
• templates/ > vytvořit profile_update_autor.html > přepsat z profile_update.html část pro autora
• templates/profile_update.html > upravit kód aby odpovídal změnám
• main/urls.py > smazat url pro profile_update.html a napsat url pro profile_update_user.html a profile_update_autor.html
• users/utils/ > vytvořit change_profile_picture.py > zapsat kod pro základní správu úpravy nahraného obrázku
• users/utils/ > vytvořit resize_and_jpg_format.py > zapsat část kódu pro změnu velikosti a formátu
• users/utils/ > vytvořit delete_old_image.py > zapsat část kódu pro smazání starého profilového obrázku
• users/utils/ > vytvořit rename_new_image.py > zapsat část kódu pro přejmenování nového obrázku
• users/utils/get_author_form.py > smazat
###